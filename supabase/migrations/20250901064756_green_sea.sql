/*
  # サンプルデータの挿入

  1. Sample Data
    - 部署データ
    - FAQデータ
    - 法令ガイドデータ

  2. Security
    - No RLS restrictions for initial data
*/

-- 部署のサンプルデータ
INSERT INTO public.departments (name) VALUES
  ('営業部'),
  ('総務部'),
  ('開発部'),
  ('企画部'),
  ('経理部')
ON CONFLICT (name) DO NOTHING;

-- FAQのサンプルデータ
INSERT INTO public.faqs (category, question, answer) VALUES
  ('基本操作', '出張申請はどのように行いますか？', '1. ダッシュボードの「出張申請」ボタンをクリック\n2. 出張目的、期間、訪問先を入力\n3. 必要に応じて添付ファイルをアップロード\n4. 「申請を送信」ボタンで提出完了\n\n申請後は承認者に自動で通知が送信されます。'),
  ('基本操作', '経費申請の方法を教えてください', '1. ダッシュボードの「経費申請」ボタンをクリック\n2. 経費項目（交通費、宿泊費、日当、雑費）を選択\n3. 日付、金額、説明を入力\n4. 領収書をアップロード（OCR機能で自動読み取り）\n5. 「申請を送信」で提出\n\n複数の経費項目をまとめて申請することも可能です。'),
  ('承認・ワークフロー', '承認の流れはどうなっていますか？', '承認フローは以下の順序で進行します：\n\n1. 申請者が提出\n2. 直属の上司が承認\n3. 部長が承認\n4. 経理部が確認\n5. 最終承認者が承認\n\n各段階で承認者に自動通知が送信され、承認・却下の理由もコメントできます。'),
  ('出張規程', '出張規程はどのように設定しますか？', '1. サイドバーの「出張規定管理」をクリック\n2. 「新規作成」ボタンで規程作成画面へ\n3. 会社情報、各条文、役職別日当を設定\n4. プレビューで内容を確認\n5. 「規程を保存」で完了\n\nWord/PDF形式での出力も可能です。'),
  ('出張規程', '日当の計算方法を教えてください', '日当は以下のルールで計算されます：\n\n• 日帰り出張：1日分の日当\n• 1泊2日：2日分の日当 + 1泊分の宿泊日当\n• 2泊3日：3日分の日当 + 2泊分の宿泊日当\n\n役職別に異なる日当額が設定でき、海外出張は国内の1.5倍で自動計算されます。'),
  ('書類・帳票', '出張報告書の作成方法は？', '1. 書類管理画面で「出張報告書」の作成ボタンをクリック\n2. 出張期間、訪問先、目的を入力\n3. 出張内容・概要を詳しく記載\n4. 成果・結果、経費概要を入力\n5. 必要に応じて関連資料を添付\n6. プレビューで確認後、提出\n\nWord/PDF形式での出力も可能です。'),
  ('設定・管理', 'ユーザーの招待方法は？', '1. マイページ（設定）の「ユーザー管理」タブを選択\n2. 「ユーザー招待」ボタンをクリック\n3. 招待するユーザーのメールアドレスを入力\n4. 役割（管理者/承認者/一般）を選択\n5. 招待メールを送信\n\n招待されたユーザーはメール内のリンクから登録を完了できます。'),
  ('トラブルシューティング', 'ログインできない場合の対処法は？', '以下の手順をお試しください：\n\n1. メールアドレス・パスワードの再確認\n2. ブラウザのキャッシュをクリア\n3. 別のブラウザで試行\n4. パスワードリセット機能を使用\n5. それでも解決しない場合はサポートにお問い合わせください\n\n多要素認証を有効にしている場合は、認証コードも必要です。')
ON CONFLICT DO NOTHING;

-- 法令ガイドのサンプルデータ
INSERT INTO public.legal_guides (title, description, url, category, importance, last_updated) VALUES
  ('所得税法（出張旅費関連）', '出張旅費の非課税限度額や適正な支給基準について定めた法令', 'https://elaws.e-gov.go.jp/document?lawid=340AC0000000033', 'law', 'high', '2024-04-01'),
  ('法人税法基本通達（旅費交通費）', '法人の旅費交通費の損金算入要件と適正な支給基準', 'https://www.nta.go.jp/law/tsutatsu/kihon/hojin/09/09_02_01.htm', 'tax', 'high', '2024-04-01'),
  ('出張旅費規程作成ガイドライン', '適正な出張旅費規程の作成方法と注意点', 'https://www.nta.go.jp/taxes/shiraberu/taxanswer/gensen/2508.htm', 'guide', 'high', '2024-03-15'),
  ('労働基準法（出張時の労働時間）', '出張時の労働時間の取り扱いと休憩時間の規定', 'https://elaws.e-gov.go.jp/document?lawid=322AC0000000049', 'law', 'medium', '2024-04-01'),
  ('消費税法（仕入税額控除）', '出張費用の消費税仕入税額控除の適用要件', 'https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6451.htm', 'tax', 'medium', '2024-04-01'),
  ('電子帳簿保存法', '出張費用の領収書等の電子保存要件', 'https://www.nta.go.jp/law/joho-zeikaishaku/sonota/jirei/0021006-031.htm', 'regulation', 'high', '2024-01-01')
ON CONFLICT DO NOTHING;